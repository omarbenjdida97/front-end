<egate-sidebar></egate-sidebar>


<div class="container">
    <div class="row clearfix">
        <div class="col-lg-12">
            <div class="card chat-app">
                <div id="plist" class="people-list">
                    <div class="input-group">
                        
                        <h1 class="form-control" >Chats</h1>
                    </div>
                    <ul class="list-unstyled chat-list mt-2 mb-0">
                       
                        <li  (click)="getMessages(channel)" class="clearfix" *ngFor="let channel of conversations">
                            
                            <img [src]="currentUserImage" style="width: 40px; height: 40px; border-radius: 50%; object-fit: cover;" alt="avatar">
                            <div class="about">
                                <div class="">{{removeCurrentUser(channel.name)}}</div>
                               
                                
                            </div>
                        
                        </li>
                                                   
                        
                        
                    </ul>
                </div>
                <div class="chat">
                    <div class="chat-header clearfix">
                        <div class="row">
                            <div class="col-lg-6">
                                <a href="javascript:void(0);" data-toggle="modal" data-target="#view_info">
                                    <img [src]="currentUserImage" style="width: 40px; height: 40px; border-radius: 50%; object-fit: cover;" alt="avatar">
                                </a>
                                <div class="chat-about">
                                    <h6 class="m-b-0">{{modifiedChannelName}}</h6>
                                   
                                </div>
                            </div>
                           
                        </div>
                    </div>
                    <div class="chat-history" style="height: 400px; overflow-y: auto;" #chatContainer>
                        <ul class="m-b-0" *ngFor="let message of messages">
                          <li class="clearfix">
                            <div class="message-data text-right" *ngIf="(message['_sender'].nickname)==member1">
                              <!-- Profile picture here -->
                              <div>{{ message['createdAt'] | date:'medium' }}</div>
                              <div class="message other-message float-right">{{ message['message'] }}</div>
                            </div>
                            <div class="message-data" *ngIf="(message['_sender'].nickname)==member2">
                              <div>{{ message['createdAt'] | date:'medium' }}</div>
                              <div class="message my-message">{{ message['message'] }}</div>
                            </div>
                          </li>
                        </ul>
                      </div>
                      
                    <div class="chat-message clearfix" >
                        <div class="input-group mb-0">
                            <div class="input-group-prepend">
                                <span (click)="sendMessage()" class="input-group-text"><i class="fa fa-send"></i></span>
                            </div>
                            <input (input)="updateTextMessage($event)"  [(ngModel)]="newMessage" type="text" class="form-control" placeholder="Enter text here...">                                    
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>